<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portail de connexion - Gouvernement du Qu√©bec</title>
    <link rel="stylesheet" href="login.css" >
</head>
<body>

<main>
    <h1>Portail de connexion</h1>
    <p class="subtitle">Bienvenue sur le portail de signalement des probl√®mes en milieu rural.<br>
        Veuillez s√©lectionner votre type de compte pour vous connecter.
    </p>

    <div class="card-container">

        <div class="login-card">
            <div class="icon">üë§</div>
            <h3>R√©sidents</h3>
            <form>
                <label for="email-resident">Courriel</label>
                <input type="email" id="email-resident" placeholder="votre@courriel.ca">

                <label for="password-resident">Mot de passe</label>
                <input type="password" id="password-resident" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">

                <button type="button" class="btn" id="resident-Login" onclick="location.href='viewResident.html'">Se connecter</button>
                <a href="#" class="forgot">Mot de passe oubli√©?</a>
            </form>
        </div>


        <div class="login-card">
            <div class="icon">üßë‚Äçüíº</div>
            <h3>Prestataire</h3>
            <form>
                <label for="email-part">Courriel</label>
                <input type="email" id="email-part" placeholder="votre@courriel.ca">

                <label for="password-part">Mot de passe</label>
                <input type="password" id="password-part" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">

                <button type="button" class="btn" onclick="location.href='viewPrestataire.html'">Se connecter</button>
                <a href="#" class="forgot">Mot de passe oubli√©?</a>
            </form>
        </div>


        <div class="login-card">
            <div class="icon">üõ°Ô∏è</div>
            <h3>Agents</h3>
            <form>
                <label for="email-agent">Courriel</label>
                <input type="email" id="email-agent" placeholder="votre@courriel.ca">

                <label for="password-agent">Mot de passe</label>
                <input type="password" id="password-agent" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">

                <button type="button" class="btn" onclick="location.href='viewAgent.html'">Se connecter</button>
                <a href="#" class="forgot">Mot de passe oubli√©?</a>
            </form>
        </div>
    </div>

    <div class="info-box">
        <p><strong>Premi√®re visite?</strong><br>
            Si vous n'avez pas encore de compte, veuillez communiquer avec votre municipalit√© pour obtenir vos identifiants de connexion.</p>
        <a href="#">En savoir plus</a>
    </div>
</main>

<footer>
    <p>¬© Petit G√©nie - 2025</p>
</footer>
<script>
    document.getElementById("resident-Login").addEventListener("click", async () => {
        try {
            const username = document.getElementById("email-resident").value;
            const password = document.getElementById("password-resident").value;
            let response = await fetch("/api/resident-log-in", { method: 'POST', headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ username, password }),});
            let data = await response.json();
        } catch (err) {
            alert(err);
        }
    });
</script>
</body>
</html>
